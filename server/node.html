<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>node 介绍 | 知识文章</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="This is a blog.">
    <link rel="preload" href="/blog/assets/css/0.styles.eea3ff88.css" as="style"><link rel="preload" href="/blog/assets/js/app.a3423334.js" as="script"><link rel="preload" href="/blog/assets/js/2.a973bc12.js" as="script"><link rel="preload" href="/blog/assets/js/31.447afcaa.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.874ad3ec.js"><link rel="prefetch" href="/blog/assets/js/11.0711065f.js"><link rel="prefetch" href="/blog/assets/js/12.c40d93da.js"><link rel="prefetch" href="/blog/assets/js/13.da43d7f3.js"><link rel="prefetch" href="/blog/assets/js/14.5f50c20e.js"><link rel="prefetch" href="/blog/assets/js/15.d82d9cf0.js"><link rel="prefetch" href="/blog/assets/js/16.ff02c56f.js"><link rel="prefetch" href="/blog/assets/js/17.902c3621.js"><link rel="prefetch" href="/blog/assets/js/18.690ad6d6.js"><link rel="prefetch" href="/blog/assets/js/19.e8feab27.js"><link rel="prefetch" href="/blog/assets/js/20.1d7fcf1c.js"><link rel="prefetch" href="/blog/assets/js/21.16c4ed2a.js"><link rel="prefetch" href="/blog/assets/js/22.2aefa173.js"><link rel="prefetch" href="/blog/assets/js/23.4e5640f3.js"><link rel="prefetch" href="/blog/assets/js/24.ba1b495a.js"><link rel="prefetch" href="/blog/assets/js/25.e8666563.js"><link rel="prefetch" href="/blog/assets/js/26.5787142e.js"><link rel="prefetch" href="/blog/assets/js/27.b2722766.js"><link rel="prefetch" href="/blog/assets/js/28.5aa26eb0.js"><link rel="prefetch" href="/blog/assets/js/29.3d2624e8.js"><link rel="prefetch" href="/blog/assets/js/3.f86f4f75.js"><link rel="prefetch" href="/blog/assets/js/30.29661336.js"><link rel="prefetch" href="/blog/assets/js/32.c2bd8e9a.js"><link rel="prefetch" href="/blog/assets/js/33.797423e5.js"><link rel="prefetch" href="/blog/assets/js/34.ee1d27eb.js"><link rel="prefetch" href="/blog/assets/js/35.89ff95b9.js"><link rel="prefetch" href="/blog/assets/js/36.a6567a31.js"><link rel="prefetch" href="/blog/assets/js/37.e0cd8c86.js"><link rel="prefetch" href="/blog/assets/js/38.4ca67963.js"><link rel="prefetch" href="/blog/assets/js/39.4bec9a8a.js"><link rel="prefetch" href="/blog/assets/js/4.221a248a.js"><link rel="prefetch" href="/blog/assets/js/40.6b72df98.js"><link rel="prefetch" href="/blog/assets/js/41.91a0c3cd.js"><link rel="prefetch" href="/blog/assets/js/42.c495687d.js"><link rel="prefetch" href="/blog/assets/js/43.fc90ceb9.js"><link rel="prefetch" href="/blog/assets/js/44.5da0fdd6.js"><link rel="prefetch" href="/blog/assets/js/5.d9260729.js"><link rel="prefetch" href="/blog/assets/js/6.e532ac18.js"><link rel="prefetch" href="/blog/assets/js/7.d43e6edf.js"><link rel="prefetch" href="/blog/assets/js/8.0d7bba76.js"><link rel="prefetch" href="/blog/assets/js/9.d2e1456d.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.eea3ff88.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">知识文章</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/TimYao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/TimYao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/jsdoc.html" class="sidebar-link">JS</a></li><li><a href="/blog/all.html" class="sidebar-link">Html/Css</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端框架</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog/test.html" class="sidebar-link">测试</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>构建工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>服务端</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/server/node.html" class="active sidebar-link">node</a></li><li><a href="/blog/server/express.html" class="sidebar-link">express</a></li><li><a href="/blog/server/koa.html" class="sidebar-link">koa</a></li></ul></section></li><li><a href="/blog/replease.html" class="sidebar-link">发布上线</a></li><li><a href="/blog/expand.html" class="sidebar-link">扩展知识</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>源码分析</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog/resource.html" class="sidebar-link">资料</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目实践</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog/sf.html" class="sidebar-link">算法学习</a></li><li><a href="/blog/408.html" class="sidebar-link">计算机408课本</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="node-介绍"><a href="#node-介绍" class="header-anchor">#</a> node 介绍</h2> <p>node 是一个基于chrome v8引擎的js运行的容器环境，并不是一个新语言，只是为了可以提供一个js在后端运行，node并不具有所有js提供的方法，js本身组成bom,dom,escript,只体现了基本的escript中的语法，不具有bom,dom操作，但提供了一些自身环境扩展的API，文件操作，http服务等模块，流的概念，node优势体现在异步非阻塞单线程，主要可以运用在作为中间件提供服务，做一些工具库开发，适合一些高并发操作开发(针对读写，接口操作)，Web主要场景就是接收客户端的请求读取静态资源和渲染界面,所以Node非常适合Web应用的开发</p> <h2 id="js单线程"><a href="#js单线程" class="header-anchor">#</a> js单线程</h2> <p>javascript在最初设计时设计成了单线程,为什么不是多线程呢？如果多个线程同时操作DOM那岂不会很混乱？这里所谓的单线程指的是主线程是单线程的,所以在Node中主线程依旧是单线程的</p> <ul><li><p>单线程特点是节约了内存,并且不需要在切换执行上下文</p></li> <li><p>单线程不需要管锁的问题</p></li></ul> <h2 id="同步异步阻塞非阻塞"><a href="#同步异步阻塞非阻塞" class="header-anchor">#</a> 同步异步阻塞非阻塞</h2> <p>同步，异步概念理解主要针对是处理方使用的方式，怎么去处理请求方发起的请求，响应是否马上能回应</p> <p>阻塞非阻塞概念理解主要是针对发起方，是否需要等待发起请求结果，等待会阻塞后面的任务，非阻塞不需要等待，继续其他任务，体现在是否要等待响应</p> <p>同步阻塞：发起任务方，需要等待处理放回应，处理方以同步方式处理请求</p> <p>同步非阻塞： 发起任务方，不需要等待处理方即时回应，处理方以同步方式处理请求</p> <p>异步阻塞：发起方会一直等待处理方返回，处理异步处理完成返回</p> <p>异步非阻塞：发起方不需要等待处理方马上回应响应，等处理方完成会通知发起方</p> <h2 id="node-中的event-loop"><a href="#node-中的event-loop" class="header-anchor">#</a> node 中的event loop</h2> <p>首先node中的event loop与浏览器间的区别不是很大，基本运行顺序要求一样，区别在于node中的宏任务有各自的队列，浏览器都会进入一个宏任务队列，node中对于任务调度访问顺序不同，timers定时器宏任务，pending callbacks上次执行剩余任务，idle, prepare ide内部任务，poll检索新的I/O事件;执行与 I/O相关的回调(io相关操作任务),check任务setImmediate，close callbacks一些关闭的回调函数</p> <ol><li><p>我们写的js代码会交给v8引擎进行处理</p></li> <li><p>代码中可能会调用nodeApi,node会交给libuv库处理</p></li> <li><p>libuv通过阻塞i/o和多线程实现了异步io</p></li> <li><p>通过事件驱动的方式,将结果放到事件队列中,最终交给我们的应用。</p></li></ol> <h2 id="node中全局对象和模块"><a href="#node中全局对象和模块" class="header-anchor">#</a> node中全局对象和模块</h2> <ul><li><p>全局对象</p> <p>Buffer</p> <p>process</p> <p>setInterval,setTimeout,setImmediate</p> <p>console</p> <p>queueMicrotask</p></li> <li><p>模块</p> <p>__dirname
__filename
module
export
require</p></li></ul> <h2 id="node中模块"><a href="#node中模块" class="header-anchor">#</a> node中模块</h2> <ul><li>commonjs 规范</li></ul> <ol><li><p>一个文件即一个模块</p></li> <li><p>module.exports导出模块</p></li> <li><p>require导入模块</p></li></ol> <ul><li>模块中分类</li></ul> <ol><li><p>核心模块，内置模块，即node内部提供的，不需要安装直接应用</p></li> <li><p>第三方模块，需要安装模块，查找规则，以node_modules，module.path路径直到找到根目录下</p></li> <li><p>自定义模块，需要经过模块路径解析，模块载入</p></li></ol> <ul><li>模块实现</li></ul> <ol><li>模块类别区分</li></ol> <p>文件模块（相对地址，绝对地址），内置模块（直接读入），第三方模块（以module.path方式递归查找）</p> <ol start="2"><li>模块路径解析</li></ol> <p>文件模块：相对地址解析出绝对路径</p> <ol start="3"><li>模块查找</li></ol> <p>内置模块， 文件模块，第三方模块，均初会检测优先读入缓存模块</p> <p>文件模块：路径分析完分别以后缀(js,json,node)查找，若不存在，以目录格式下分别以index（js,json,node）后缀查找</p> <p>第三方模块：从module.path下查找，分别以文件模式查找，不存在，以包的方式查找，package.json(main)/index(js,json,node)</p> <ol start="4"><li>模块创建</li></ol> <p>找不到缓存下模块，读取到查找到模块内容进行创建模块，并保存到缓存模块下</p> <p>module {
id,  //路径
exports // 最终内容
.
.
.
}</p> <ol start="5"><li>模块加载</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/structor/webpack-hmr.html" class="prev">
        webpack-hmr
      </a></span> <span class="next"><a href="/blog/server/express.html">
        express
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.a3423334.js" defer></script><script src="/blog/assets/js/2.a973bc12.js" defer></script><script src="/blog/assets/js/31.447afcaa.js" defer></script>
  </body>
</html>
