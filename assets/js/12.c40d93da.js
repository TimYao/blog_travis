(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{332:function(e,v,t){"use strict";t.r(v);var u=t(33),i=Object(u.a)({},(function(){var e=this,v=e.$createElement,t=e._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h2",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[e._v("#")]),e._v(" 简介")]),e._v(" "),t("p",[e._v("vue-demi主要是为了在开发功能包插件时支持vue2,vue3，使开发功能包插件支持在vue2,vue3中运行。")]),e._v(" "),t("h2",{attrs:{id:"原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[e._v("#")]),e._v(" 原理")]),e._v(" "),t("ul",[t("li",[e._v("安装产生兼容代码")])]),e._v(" "),t("p",[e._v("在安装vue-demi项目下，在项目通过npm install安装包的情况下安装vue-demi包时通过包钩子postinstall执行获取到当前项目中vue版本，这样会将兼容的版本代码生成")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("postinstall->node postinstall.js")])]),e._v(" "),t("li",[t("p",[e._v("源代码lib库(vue2.xx,vue2.7,vue3)")])]),e._v(" "),t("li",[t("p",[e._v("利用node fs模块(readFile,writeFile)将对应源代码输出最终兼容版本")])])]),e._v(" "),t("ul",[t("li",[e._v("以vue2.xx，vue2.7版本，vue3版本")])]),e._v(" "),t("p",[e._v("vue2.xx : 依赖于包@vue/compositionapi")]),e._v(" "),t("p",[e._v("vue2.7: 内部已经过度加入了部分vue3功能(compositionApi,SFC,SFC css v-bind),不在需要template-complier包")]),e._v(" "),t("p",[e._v("vue3: 全功能")]),e._v(" "),t("ul",[t("li",[e._v("vue2.7版本作为使用vue3的过度版本，提供给系统vue2中能使用到vue3功能，由于暂时无法完全替换为vue3的一个过度开发vue版本")])])])}),[],!1,null,null,null);v.default=i.exports}}]);